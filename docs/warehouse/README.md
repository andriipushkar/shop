# Система управління складом (WMS)

## Огляд

Комплексна система управління складом з AI/ML аналітикою для оптимізації складських операцій інтернет-магазину.

## Можливості

### AI/ML Аналітика
- **Прогнозування попиту** - передбачення майбутніх продажів на основі історичних даних
- **Точки перезамовлення** - автоматичний розрахунок оптимального часу для замовлення товарів
- **Виявлення аномалій** - пошук незвичних патернів у продажах (сплески, падіння, нульові продажі)
- **ABC-XYZ класифікація** - сегментація товарів за прибутковістю та стабільністю попиту

### Оптимізація складу
- **Гарячі/холодні зони** - оптимальне розміщення товарів за частотою звернень
- **Хвильовий збір (Wave Picking)** - групування замовлень для ефективного збору
- **Відвантаження з магазину (Ship-from-Store)** - вибір оптимального джерела відправки

## Сторінки адмін-панелі

| Шлях | Опис | Функціонал |
|------|------|------------|
| `/admin/warehouse/analytics` | Головний дашборд | Огляд всіх метрик складу |
| `/admin/warehouse/analytics/forecast` | Прогнозування попиту | Графік прогнозу, сезонність, тренди |
| `/admin/warehouse/analytics/reorder` | Точки перезамовлення | Таблиця товарів зі статусами запасів |
| `/admin/warehouse/analytics/anomalies` | Виявлення аномалій | Список аномалій з причинами |
| `/admin/warehouse/analytics/abc-xyz` | ABC-XYZ аналіз | Матриця класифікації товарів |
| `/admin/warehouse/analytics/zones` | Карта зон складу | Візуалізація hot/cold зон |
| `/admin/warehouse/analytics/wave-picking` | Хвильовий збір | Формування хвиль для пікерів |
| `/admin/warehouse/analytics/ship-from-store` | Відвантаження | Вибір джерела відправки |

## Документація

| Документ | Опис |
|----------|------|
| [Аналітика](./analytics.md) | AI/ML функції прогнозування та аналізу |
| [Зони](./zones.md) | Система гарячих/холодних зон |
| [Хвильовий збір](./wave-picking.md) | Методологія групування замовлень |
| [Відвантаження](./ship-from-store.md) | Вибір джерела відвантаження |
| [API](./api.md) | Довідник функцій бібліотеки |

## Технічна архітектура

### Бібліотека warehouse-analytics.ts

Всі алгоритми реалізовані в `lib/warehouse-analytics.ts`:

```typescript
// Основні функції
forecastDemand()           // Прогнозування попиту
calculateReorderPoint()    // Розрахунок точки перезамовлення
performABCXYZAnalysis()    // ABC-XYZ класифікація
detectAnomalies()          // Виявлення аномалій
classifyHotColdZones()     // Класифікація зон
createWavePickingBatches() // Формування хвиль збору
findOptimalShipmentSource() // Вибір джерела відвантаження
```

### Покриття тестами

- **100% Statements**
- **100% Branches**
- **100% Functions**
- **100% Lines**
- **250 тестів** загалом

## Швидкий старт

### Встановлення

```bash
cd services/storefront
npm install
```

### Запуск

```bash
npm run dev
```

### Доступ

Перейдіть до `http://localhost:3000/admin/warehouse/analytics`

## Алгоритми

### Прогнозування попиту
- Ковзне середнє (Moving Average)
- Експоненційне згладжування (α = 0.3)
- Лінійна регресія для тренду
- Сезонні індекси по місяцях
- Інтервал довіри 95%

### Точки перезамовлення
```
ROP = Safety Stock + (Avg Daily Sales × Lead Time)
Safety Stock = Z × σ × √(Lead Time)
```

### ABC-XYZ класифікація
- **ABC**: за прибутковістю (Парето 80/15/5)
- **XYZ**: за стабільністю (CV < 10% / 10-25% / > 25%)

### Виявлення аномалій
- Z-score аналіз
- Поріг: 2σ для medium, 3σ для high severity
- Типи: spike, drop, zero_sales

## Технології

- **Next.js 14** - React фреймворк
- **TypeScript** - типізація
- **Tailwind CSS** - стилізація
- **Recharts** - візуалізація графіків
- **Jest + React Testing Library** - тестування (100% coverage)

# Тестування Аналітики

**Версія:** 1.0
**Дата:** Грудень 2024

---

## Зміст

1. [Головна сторінка аналітики](#1-головна-сторінка-аналітики)
2. [Прогнозування попиту](#2-прогнозування-попиту)
3. [Точки перезамовлення](#3-точки-перезамовлення)
4. [Виявлення аномалій](#4-виявлення-аномалій)
5. [ABC-XYZ аналіз та зони](#5-abc-xyz-аналіз-та-зони)
6. [Wave Picking](#6-wave-picking)
7. [Ship-from-Store](#7-ship-from-store)

---

## Передумови

1. Запустити: `cd services/storefront && npm run dev`
2. Відкрити: http://localhost:3000/admin/warehouse/analytics

---

## 1. Головна сторінка аналітики

**URL:** `/admin/warehouse/analytics`

### 1.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.1.1 | Завантаження | Відкрити сторінку | Сторінка завантажується < 2 сек | [ ] |
| 1.1.2 | Заголовок | Перевірити заголовок | "Аналітика складу" | [ ] |
| 1.1.3 | Кнопка "Назад" | Перевірити кнопку | Повернення до `/admin/warehouse` | [ ] |

### 1.2 Швидка статистика

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.2.1 | Вартість запасів | Перевірити карточку | Сума в млн/тис ₴ | [ ] |
| 1.2.2 | Середній оборот | Перевірити карточку | Кількість днів | [ ] |
| 1.2.3 | Критичні позиції | Перевірити карточку | Кількість товарів | [ ] |
| 1.2.4 | Точність прогнозу | Перевірити карточку | Відсоток | [ ] |
| 1.2.5 | Тренди | Перевірити значки | Зелений/червоний індикатор | [ ] |

### 1.3 Модулі аналітики

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.3.1 | Прогнозування | Перевірити карточку | Іконка, опис, "30 днів вперед" | [ ] |
| 1.3.2 | Точки перезамовлення | Перевірити карточку | Іконка, опис, "X критичних" | [ ] |
| 1.3.3 | Виявлення аномалій | Перевірити карточку | Іконка, опис, "X аномалій" | [ ] |
| 1.3.4 | ABC-XYZ та Зони | Перевірити карточку | Іконка, опис, "9 категорій" | [ ] |
| 1.3.5 | Wave Picking | Перевірити карточку | Іконка, опис | [ ] |
| 1.3.6 | Ship-from-Store | Перевірити карточку | Іконка, опис, "X локацій" | [ ] |

### 1.4 Навігація

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.4.1 | Клік на модуль | Натиснути карточку | Перехід до відповідної сторінки | [ ] |
| 1.4.2 | Hover ефект | Навести на карточку | Тінь + підсвічування | [ ] |

### 1.5 Інформаційний блок

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.5.1 | Градієнтний блок | Перевірити блок | Teal градієнт | [ ] |
| 1.5.2 | CTA кнопка | Натиснути "Почати аналіз" | Перехід до прогнозування | [ ] |

### 1.6 Останні інсайти

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.6.1 | Критичний рівень | Перевірити alert | Червоний фон, товар, залишок | [ ] |
| 1.6.2 | Спайк продажів | Перевірити alert | Жовтий фон, товар, % зростання | [ ] |
| 1.6.3 | Рекомендація | Перевірити alert | Синій фон, рекомендація | [ ] |
| 1.6.4 | Посилання "Деталі" | Натиснути посилання | Перехід до відповідного модуля | [ ] |

---

## 2. Прогнозування попиту

**URL:** `/admin/warehouse/analytics/forecast`

### 2.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 2.1.1 | Завантаження | Відкрити сторінку | Сторінка завантажується | [ ] |
| 2.1.2 | Заголовок | Перевірити заголовок | "Прогнозування попиту" | [ ] |
| 2.1.3 | Графік | Перевірити графік | Історія + прогноз | [ ] |
| 2.1.4 | Таблиця товарів | Перевірити таблицю | Товари з прогнозами | [ ] |

### 2.2 Фільтри

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 2.2.1 | Період | Вибрати 7/14/30/90 днів | Графік оновлюється | [ ] |
| 2.2.2 | Категорія | Вибрати категорію | Фільтрація товарів | [ ] |
| 2.2.3 | Склад | Вибрати склад | Дані обраного складу | [ ] |

### 2.3 Графік прогнозу

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 2.3.1 | Історичні дані | Перевірити лінію | Суцільна лінія минулого | [ ] |
| 2.3.2 | Прогноз | Перевірити лінію | Пунктирна лінія майбутнього | [ ] |
| 2.3.3 | Довірчий інтервал | Перевірити область | Заливка верх/низ прогнозу | [ ] |
| 2.3.4 | Hover | Навести на точку | Tooltip з датою та значенням | [ ] |
| 2.3.5 | Легенда | Перевірити легенду | Історія, Прогноз, Інтервал | [ ] |

### 2.4 Таблиця прогнозів

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 2.4.1 | Колонки | Перевірити таблицю | Товар, поточний залишок, прогноз, днів залишку | [ ] |
| 2.4.2 | Сортування | Клік на заголовок | Сортування ASC/DESC | [ ] |
| 2.4.3 | Критичні | Перевірити індикатор | Червоний для критичних | [ ] |
| 2.4.4 | Тренд | Перевірити стрілку | ↑ зростання / ↓ падіння | [ ] |

### 2.5 Сезонність

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 2.5.1 | Графік сезонності | Перевірити блок | Тижневий/місячний патерн | [ ] |
| 2.5.2 | Пікові дні | Перевірити виділення | Понеділок, п'ятниця (приклад) | [ ] |

---

## 3. Точки перезамовлення

**URL:** `/admin/warehouse/analytics/reorder`

### 3.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.1.1 | Завантаження | Відкрити сторінку | Сторінка завантажується | [ ] |
| 3.1.2 | Статистика | Перевірити карточки | Критичних, потребує замовлення, оптимально | [ ] |
| 3.1.3 | Таблиця | Перевірити таблицю | Товари з ROP даними | [ ] |

### 3.2 ROP (Reorder Point)

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.2.1 | Поточний залишок | Перевірити колонку | Актуальна кількість | [ ] |
| 3.2.2 | ROP | Перевірити колонку | Точка перезамовлення | [ ] |
| 3.2.3 | Страховий запас | Перевірити колонку | Safety stock | [ ] |
| 3.2.4 | EOQ | Перевірити колонку | Оптимальна кількість замовлення | [ ] |
| 3.2.5 | Lead time | Перевірити колонку | Час доставки | [ ] |

### 3.3 Статуси

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.3.1 | Критичний | Перевірити бейдж | Червоний, залишок < ROP | [ ] |
| 3.3.2 | Потребує замовлення | Перевірити бейдж | Жовтий, близько до ROP | [ ] |
| 3.3.3 | Оптимально | Перевірити бейдж | Зелений, запас достатній | [ ] |
| 3.3.4 | Надлишок | Перевірити бейдж | Синій, overstock | [ ] |

### 3.4 Дії

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.4.1 | Замовити | Натиснути "Замовити" | Форма замовлення | [ ] |
| 3.4.2 | Авто-замовлення | Увімкнути опцію | Автоматичне замовлення при ROP | [ ] |
| 3.4.3 | Налаштувати ROP | Натиснути "Налаштувати" | Редагування параметрів | [ ] |

---

## 4. Виявлення аномалій

**URL:** `/admin/warehouse/analytics/anomalies`

### 4.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 4.1.1 | Завантаження | Відкрити сторінку | Сторінка завантажується | [ ] |
| 4.1.2 | Статистика | Перевірити карточки | Спайки, падіння, нетипова активність | [ ] |
| 4.1.3 | Список аномалій | Перевірити список | Карточки аномалій | [ ] |

### 4.2 Типи аномалій

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 4.2.1 | Спайк продажів | Перевірити карточку | Різке зростання (>200%) | [ ] |
| 4.2.2 | Падіння продажів | Перевірити карточку | Різке зниження (<50%) | [ ] |
| 4.2.3 | Нетиповий час | Перевірити карточку | Продажі в нетиповий час | [ ] |
| 4.2.4 | Нетипова локація | Перевірити карточку | Замовлення з нової локації | [ ] |

### 4.3 Деталі аномалії

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 4.3.1 | Товар | Перевірити інформацію | Назва, SKU, фото | [ ] |
| 4.3.2 | Графік | Перевірити графік | Візуалізація аномалії | [ ] |
| 4.3.3 | Відхилення | Перевірити значення | % відхилення від норми | [ ] |
| 4.3.4 | Причина | Перевірити пояснення | Можлива причина (AI) | [ ] |
| 4.3.5 | Рекомендації | Перевірити блок | Рекомендовані дії | [ ] |

### 4.4 Дії

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 4.4.1 | Ігнорувати | Натиснути "Ігнорувати" | Аномалія приховується | [ ] |
| 4.4.2 | Додати до норми | Натиснути опцію | Патерн враховується в майбутньому | [ ] |
| 4.4.3 | Створити alert | Натиснути опцію | Налаштування сповіщення | [ ] |

---

## 5. ABC-XYZ аналіз та зони

**URL:** `/admin/warehouse/analytics/zones`

### 5.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.1.1 | Завантаження | Відкрити сторінку | Сторінка завантажується | [ ] |
| 5.1.2 | ABC матриця | Перевірити блок | 3x3 матриця | [ ] |
| 5.1.3 | Карта складу | Перевірити блок | Візуалізація зон | [ ] |

### 5.2 ABC класифікація

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.2.1 | Клас A | Перевірити категорію | 80% доходу, 20% товарів | [ ] |
| 5.2.2 | Клас B | Перевірити категорію | 15% доходу, 30% товарів | [ ] |
| 5.2.3 | Клас C | Перевірити категорію | 5% доходу, 50% товарів | [ ] |
| 5.2.4 | Таблиця | Перевірити таблицю | Товари з класом ABC | [ ] |

### 5.3 XYZ класифікація

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.3.1 | Клас X | Перевірити категорію | Стабільний попит (<10% варіації) | [ ] |
| 5.3.2 | Клас Y | Перевірити категорію | Помірна варіація (10-25%) | [ ] |
| 5.3.3 | Клас Z | Перевірити категорію | Нестабільний попит (>25%) | [ ] |
| 5.3.4 | Таблиця | Перевірити таблицю | Товари з класом XYZ | [ ] |

### 5.4 ABC-XYZ матриця

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.4.1 | AX (Hot) | Перевірити комірку | Високий дохід + стабільний попит | [ ] |
| 5.4.2 | AZ | Перевірити комірку | Високий дохід + нестабільний | [ ] |
| 5.4.3 | CZ (Cold) | Перевірити комірку | Низький дохід + нестабільний | [ ] |
| 5.4.4 | Клік на комірку | Натиснути комірку | Список товарів категорії | [ ] |

### 5.5 Зони складу

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.5.1 | Hot зона | Перевірити зону | AX, BX товари, біля виходу | [ ] |
| 5.5.2 | Medium зона | Перевірити зону | AY, BY, CX товари | [ ] |
| 5.5.3 | Cold зона | Перевірити зону | AZ, BZ, CY, CZ товари | [ ] |
| 5.5.4 | Рекомендації | Перевірити блок | Рекомендації по переміщенню | [ ] |

### 5.6 Дії

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.6.1 | Перерахувати | Натиснути "Перерахувати" | Оновлення класифікації | [ ] |
| 5.6.2 | Експорт | Натиснути "Експорт" | CSV/Excel файл | [ ] |
| 5.6.3 | Застосувати зони | Натиснути "Застосувати" | Оновлення комірок товарів | [ ] |

---

## 6. Wave Picking

**URL:** `/admin/warehouse/analytics/wave-picking`

### 6.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 6.1.1 | Завантаження | Відкрити сторінку | Сторінка завантажується | [ ] |
| 6.1.2 | Статистика | Перевірити карточки | Замовлень в черзі, оптимізація % | [ ] |
| 6.1.3 | Список хвиль | Перевірити таблицю | Згруповані замовлення | [ ] |

### 6.2 Створення хвилі

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 6.2.1 | Авто-групування | Натиснути "Створити хвилю" | AI групує замовлення | [ ] |
| 6.2.2 | Критерії | Перевірити критерії | Зона, приоритет, дедлайн | [ ] |
| 6.2.3 | Розмір хвилі | Налаштувати кількість | 5-50 замовлень | [ ] |

### 6.3 Оптимізація маршруту

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 6.3.1 | S-подібний маршрут | Перевірити візуалізацію | Оптимальний шлях | [ ] |
| 6.3.2 | Час збору | Перевірити оцінку | Очікуваний час | [ ] |
| 6.3.3 | Економія | Перевірити метрику | % економії часу | [ ] |

### 6.4 Виконання

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 6.4.1 | Почати збір | Натиснути "Почати" | Хвиля активується | [ ] |
| 6.4.2 | Друк листа | Натиснути "Друк" | Picking list | [ ] |
| 6.4.3 | Мобільний режим | Відкрити на телефоні | Адаптивний інтерфейс | [ ] |

---

## 7. Ship-from-Store

**URL:** `/admin/warehouse/analytics/ship-from-store`

### 7.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.1.1 | Завантаження | Відкрити сторінку | Сторінка завантажується | [ ] |
| 7.1.2 | Карта локацій | Перевірити карту | Склади + магазини | [ ] |
| 7.1.3 | Список локацій | Перевірити таблицю | Всі точки відвантаження | [ ] |

### 7.2 Локації

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.2.1 | Центральний склад | Перевірити локацію | Повний асортимент | [ ] |
| 7.2.2 | Магазин | Перевірити локацію | Обмежений асортимент | [ ] |
| 7.2.3 | Дроп-шип | Перевірити локацію | Постачальник | [ ] |
| 7.2.4 | Статус локації | Перевірити бейдж | Активний/Неактивний | [ ] |

### 7.3 Алгоритм вибору

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.3.1 | Наявність | Перевірити критерій | Товар є на складі | [ ] |
| 7.3.2 | Відстань | Перевірити критерій | Найближча точка | [ ] |
| 7.3.3 | Вартість доставки | Перевірити критерій | Мінімальна вартість | [ ] |
| 7.3.4 | Час доставки | Перевірити критерій | Найшвидша доставка | [ ] |
| 7.3.5 | Пріоритет локації | Перевірити критерій | Налаштований пріоритет | [ ] |

### 7.4 Симуляція

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.4.1 | Симуляція замовлення | Ввести адресу + товари | Рекомендація локації | [ ] |
| 7.4.2 | Порівняння варіантів | Перевірити таблицю | Всі можливі локації | [ ] |
| 7.4.3 | Вартість | Перевірити розрахунок | Вартість доставки | [ ] |
| 7.4.4 | Час | Перевірити розрахунок | Очікуваний час доставки | [ ] |

### 7.5 Налаштування

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.5.1 | Додати локацію | Натиснути "Додати" | Форма локації | [ ] |
| 7.5.2 | Редагувати | Натиснути "Редагувати" | Редагування параметрів | [ ] |
| 7.5.3 | Деактивувати | Вимкнути локацію | Не використовується в розрахунках | [ ] |
| 7.5.4 | Ваги критеріїв | Налаштувати ваги | Пріоритет критеріїв | [ ] |

---

## Негативне тестування

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| N1 | Немає даних | Відкрити без історії продажів | "Недостатньо даних для прогнозу" | [ ] |
| N2 | Від'ємні значення | Ввести від'ємний ROP | Валідація | [ ] |
| N3 | Невалідний період | Вибрати майбутню дату | Валідація | [ ] |
| N4 | Великий обсяг даних | 100K+ товарів | Пагінація, не падає | [ ] |
| N5 | Пусті категорії | ABC без товарів | Коректне відображення | [ ] |
| N6 | Конфліктні критерії | Ship-from-store конфлікт | Fallback логіка | [ ] |

---

## Чек-лист перед релізом

- [ ] Всі модулі аналітики відкриваються
- [ ] Графіки відображаються коректно
- [ ] Прогнози генеруються
- [ ] ROP розраховується правильно
- [ ] ABC-XYZ класифікація працює
- [ ] Аномалії виявляються
- [ ] Wave picking групує замовлення
- [ ] Ship-from-store вибирає оптимальну локацію
- [ ] Експорт даних працює
- [ ] Responsive на мобільних

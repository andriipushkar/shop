# Тестування Адмін-панелі

**Версія:** 1.0
**Дата:** Грудень 2024

---

## Зміст

1. [Авторизація в адмін-панель](#1-авторизація-в-адмін-панель)
2. [Дашборд](#2-дашборд)
3. [Управління товарами](#3-управління-товарами)
4. [Управління категоріями](#4-управління-категоріями)
5. [Управління замовленнями](#5-управління-замовленнями)
6. [Управління клієнтами](#6-управління-клієнтами)
7. [Налаштування](#7-налаштування)
8. [Sidebar навігація](#8-sidebar-навігація)

---

## Передумови

1. Запустити: `cd services/storefront && npm run dev`
2. Відкрити: http://localhost:3000/admin
3. Авторизуватися як адміністратор

---

## 1. Авторизація в адмін-панель

**URL:** `/admin/login`

### 1.1 Вхід

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.1.1 | Форма входу | Відкрити `/admin` | Форма: email, пароль | [ ] |
| 1.1.2 | Валідні дані | Ввести admin credentials | Успішний вхід, редірект до дашборду | [ ] |
| 1.1.3 | Невірний пароль | Ввести невірний пароль | Помилка авторизації | [ ] |
| 1.1.4 | Невірний email | Ввести неіснуючий email | Помилка авторизації | [ ] |
| 1.1.5 | Пусті поля | Натиснути "Вхід" без даних | Валідація обов'язкових полів | [ ] |
| 1.1.6 | Сесія | Закрити/відкрити браузер | Сесія зберігається (якщо "Запам'ятати") | [ ] |
| 1.1.7 | Logout | Натиснути "Вийти" | Редірект до логіну | [ ] |

### 1.2 Доступ

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 1.2.1 | Без авторизації | Відкрити `/admin/products` напряму | Редірект до логіну | [ ] |
| 1.2.2 | Звичайний користувач | Увійти як клієнт | Доступ заборонено | [ ] |
| 1.2.3 | Менеджер | Увійти як менеджер | Обмежений доступ | [ ] |
| 1.2.4 | Адміністратор | Увійти як адмін | Повний доступ | [ ] |

---

## 2. Дашборд

**URL:** `/admin`

### 2.1 Відображення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 2.1.1 | Завантаження | Відкрити дашборд | Сторінка завантажується < 2 сек | [ ] |
| 2.1.2 | Статистика продажів | Перевірити карточку | Сума продажів, тренд | [ ] |
| 2.1.3 | Кількість замовлень | Перевірити карточку | Замовлень сьогодні/тиждень/місяць | [ ] |
| 2.1.4 | Нові клієнти | Перевірити карточку | Нових клієнтів за період | [ ] |
| 2.1.5 | Середній чек | Перевірити карточку | Середня сума замовлення | [ ] |
| 2.1.6 | Графік продажів | Перевірити графік | Динаміка за обраний період | [ ] |
| 2.1.7 | Останні замовлення | Перевірити таблицю | 5-10 останніх замовлень | [ ] |
| 2.1.8 | Популярні товари | Перевірити блок | Топ товари за продажами | [ ] |

### 2.2 Фільтри періоду

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 2.2.1 | Сьогодні | Вибрати "Сьогодні" | Дані за поточний день | [ ] |
| 2.2.2 | Тиждень | Вибрати "Тиждень" | Дані за 7 днів | [ ] |
| 2.2.3 | Місяць | Вибрати "Місяць" | Дані за 30 днів | [ ] |
| 2.2.4 | Рік | Вибрати "Рік" | Дані за 365 днів | [ ] |
| 2.2.5 | Довільний період | Вибрати дати | Дані за обраний період | [ ] |

---

## 3. Управління товарами

**URL:** `/admin/products`

### 3.1 Список товарів

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.1.1 | Таблиця товарів | Відкрити сторінку | Список товарів з пагінацією | [ ] |
| 3.1.2 | Колонки | Перевірити колонки | Фото, назва, SKU, ціна, залишок, статус | [ ] |
| 3.1.3 | Пошук | Ввести назву/SKU | Фільтрація результатів | [ ] |
| 3.1.4 | Фільтр по категорії | Вибрати категорію | Товари обраної категорії | [ ] |
| 3.1.5 | Фільтр по статусу | Вибрати "Активні" | Тільки активні товари | [ ] |
| 3.1.6 | Сортування | Клік на заголовок | Сортування ASC/DESC | [ ] |
| 3.1.7 | Пагінація | Перейти на сторінку 2 | Наступні товари | [ ] |
| 3.1.8 | Кількість на сторінці | Змінити 10→50 | 50 товарів на сторінці | [ ] |

### 3.2 Створення товару

**URL:** `/admin/products/new`

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.2.1 | Форма створення | Натиснути "Додати товар" | Відкривається форма | [ ] |
| 3.2.2 | Назва | Ввести назву | Поле приймає текст | [ ] |
| 3.2.3 | SKU | Ввести артикул | Унікальний артикул | [ ] |
| 3.2.4 | Опис | Ввести опис (WYSIWYG) | Форматований текст | [ ] |
| 3.2.5 | Ціна | Ввести ціну | Числове значення | [ ] |
| 3.2.6 | Стара ціна | Ввести стару ціну | Для відображення знижки | [ ] |
| 3.2.7 | Категорія | Вибрати категорію | Випадаючий список | [ ] |
| 3.2.8 | Бренд | Вибрати бренд | Випадаючий список | [ ] |
| 3.2.9 | Фото | Завантажити фото | Drag & drop або клік | [ ] |
| 3.2.10 | Характеристики | Додати характеристики | Ключ-значення пари | [ ] |
| 3.2.11 | SEO | Заповнити meta | Title, description, keywords | [ ] |
| 3.2.12 | Зберегти | Натиснути "Зберегти" | Товар створено, редірект | [ ] |

### 3.3 Редагування товару

**URL:** `/admin/products/[id]`

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.3.1 | Відкрити редагування | Натиснути на товар | Форма з даними товару | [ ] |
| 3.3.2 | Змінити назву | Редагувати назву | Зміни зберігаються | [ ] |
| 3.3.3 | Змінити ціну | Редагувати ціну | Ціна оновлюється | [ ] |
| 3.3.4 | Додати фото | Завантажити нове | Фото додається до галереї | [ ] |
| 3.3.5 | Видалити фото | Натиснути X на фото | Фото видаляється | [ ] |
| 3.3.6 | Змінити порядок фото | Drag & drop | Порядок змінюється | [ ] |
| 3.3.7 | Деактивувати | Змінити статус | Товар не відображається на сайті | [ ] |
| 3.3.8 | Історія змін | Перевірити лог | Показує хто і коли змінював | [ ] |

### 3.4 Видалення товару

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.4.1 | Видалення | Натиснути "Видалити" | Підтвердження | [ ] |
| 3.4.2 | Підтвердити | Підтвердити видалення | Товар видалено | [ ] |
| 3.4.3 | Скасувати | Скасувати видалення | Товар залишається | [ ] |
| 3.4.4 | Масове видалення | Вибрати декілька + видалити | Всі вибрані видалені | [ ] |

### 3.5 Варіанти товару

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.5.1 | Додати варіант | Натиснути "Додати варіант" | Форма варіанту | [ ] |
| 3.5.2 | Колір | Вибрати/створити колір | Варіант за кольором | [ ] |
| 3.5.3 | Розмір | Вибрати/створити розмір | Варіант за розміром | [ ] |
| 3.5.4 | Ціна варіанту | Встановити окрему ціну | Ціна відрізняється від базової | [ ] |
| 3.5.5 | SKU варіанту | Встановити SKU | Унікальний артикул | [ ] |
| 3.5.6 | Фото варіанту | Прив'язати фото | Окреме фото для варіанту | [ ] |

### 3.6 Імпорт/Експорт

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 3.6.1 | Експорт CSV | Натиснути "Експорт" | Завантажується CSV файл | [ ] |
| 3.6.2 | Експорт Excel | Вибрати Excel формат | Завантажується XLSX | [ ] |
| 3.6.3 | Імпорт CSV | Завантажити CSV | Товари імпортуються | [ ] |
| 3.6.4 | Шаблон імпорту | Завантажити шаблон | CSV з правильними колонками | [ ] |
| 3.6.5 | Помилки імпорту | Імпорт з помилками | Звіт про помилки | [ ] |

---

## 4. Управління категоріями

**URL:** `/admin/categories`

### 4.1 Список категорій

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 4.1.1 | Дерево категорій | Відкрити сторінку | Ієрархічний список | [ ] |
| 4.1.2 | Розгорнути | Натиснути стрілку | Підкатегорії видимі | [ ] |
| 4.1.3 | Згорнути | Натиснути стрілку | Підкатегорії приховані | [ ] |
| 4.1.4 | Кількість товарів | Перевірити лічильник | Товарів у категорії | [ ] |

### 4.2 Створення категорії

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 4.2.1 | Нова категорія | Натиснути "Додати" | Форма категорії | [ ] |
| 4.2.2 | Назва | Ввести назву | Обов'язкове поле | [ ] |
| 4.2.3 | Slug | Ввести URL slug | Автогенерація з назви | [ ] |
| 4.2.4 | Батьківська | Вибрати батьківську | Вкладена категорія | [ ] |
| 4.2.5 | Зображення | Завантажити іконку | Зображення категорії | [ ] |
| 4.2.6 | SEO | Заповнити meta | Title, description | [ ] |
| 4.2.7 | Зберегти | Натиснути "Зберегти" | Категорія створена | [ ] |

### 4.3 Редагування та видалення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 4.3.1 | Редагувати | Натиснути "Редагувати" | Форма з даними | [ ] |
| 4.3.2 | Drag & drop | Перетягнути категорію | Порядок змінюється | [ ] |
| 4.3.3 | Змінити батьківську | Перетягнути в іншу | Вкладеність змінюється | [ ] |
| 4.3.4 | Видалити пусту | Видалити без товарів | Категорія видалена | [ ] |
| 4.3.5 | Видалити з товарами | Видалити з товарами | Попередження, вибір дії | [ ] |

---

## 5. Управління замовленнями

**URL:** `/admin/orders`

### 5.1 Список замовлень

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.1.1 | Таблиця | Відкрити сторінку | Список замовлень | [ ] |
| 5.1.2 | Колонки | Перевірити колонки | №, дата, клієнт, сума, статус | [ ] |
| 5.1.3 | Фільтр по статусу | Вибрати "Нові" | Тільки нові замовлення | [ ] |
| 5.1.4 | Фільтр по даті | Вибрати період | Замовлення за період | [ ] |
| 5.1.5 | Пошук | Ввести № або телефон | Знаходить замовлення | [ ] |
| 5.1.6 | Сортування | Клік на заголовок | Сортування ASC/DESC | [ ] |

### 5.2 Деталі замовлення

**URL:** `/admin/orders/[id]`

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.2.1 | Інформація | Відкрити замовлення | Повні дані замовлення | [ ] |
| 5.2.2 | Товари | Перевірити список | Назва, кількість, ціна | [ ] |
| 5.2.3 | Клієнт | Перевірити дані | Ім'я, телефон, email | [ ] |
| 5.2.4 | Доставка | Перевірити адресу | Спосіб, адреса, TTH | [ ] |
| 5.2.5 | Оплата | Перевірити оплату | Спосіб, статус | [ ] |
| 5.2.6 | Коментар | Перевірити коментар | Коментар клієнта | [ ] |

### 5.3 Обробка замовлення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.3.1 | Підтвердити | Змінити статус на "Підтверджено" | Статус змінено, email | [ ] |
| 5.3.2 | Відправити | Змінити на "Відправлено" + TTH | TTH зберігається | [ ] |
| 5.3.3 | Доставлено | Змінити на "Доставлено" | Статус змінено | [ ] |
| 5.3.4 | Скасувати | Скасувати замовлення | Статус "Скасовано" | [ ] |
| 5.3.5 | Повернення | Оформити повернення | Повернення створено | [ ] |
| 5.3.6 | Редагувати товари | Змінити кількість | Сума перераховується | [ ] |
| 5.3.7 | Додати товар | Додати товар до замовлення | Товар додано | [ ] |
| 5.3.8 | Видалити товар | Видалити товар | Товар видалено | [ ] |

### 5.4 Друк та експорт

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 5.4.1 | Друк накладної | Натиснути "Друк" | PDF накладна | [ ] |
| 5.4.2 | Експорт | Експортувати замовлення | CSV/Excel файл | [ ] |
| 5.4.3 | Масовий друк | Вибрати декілька + друк | PDF з усіма накладними | [ ] |

---

## 6. Управління клієнтами

**URL:** `/admin/customers`

### 6.1 Список клієнтів

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 6.1.1 | Таблиця | Відкрити сторінку | Список клієнтів | [ ] |
| 6.1.2 | Колонки | Перевірити колонки | Ім'я, email, телефон, замовлень | [ ] |
| 6.1.3 | Пошук | Ввести ім'я/email/телефон | Знаходить клієнта | [ ] |
| 6.1.4 | Сортування | Клік на заголовок | Сортування | [ ] |

### 6.2 Картка клієнта

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 6.2.1 | Профіль | Відкрити клієнта | Дані клієнта | [ ] |
| 6.2.2 | Історія замовлень | Перевірити вкладку | Всі замовлення клієнта | [ ] |
| 6.2.3 | Адреси | Перевірити адреси | Збережені адреси | [ ] |
| 6.2.4 | Статистика | Перевірити статистику | Сума покупок, середній чек | [ ] |
| 6.2.5 | Нотатки | Додати нотатку | Нотатка зберігається | [ ] |

### 6.3 Редагування

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 6.3.1 | Редагувати профіль | Змінити дані | Зміни зберігаються | [ ] |
| 6.3.2 | Скинути пароль | Надіслати скидання | Email надіслано | [ ] |
| 6.3.3 | Заблокувати | Заблокувати клієнта | Вхід заборонено | [ ] |
| 6.3.4 | Видалити | Видалити клієнта | Дані видалено (GDPR) | [ ] |

---

## 7. Налаштування

**URL:** `/admin/settings`

### 7.1 Загальні

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.1.1 | Назва магазину | Змінити назву | Назва оновлюється | [ ] |
| 7.1.2 | Логотип | Завантажити логотип | Логотип змінюється | [ ] |
| 7.1.3 | Контакти | Змінити телефон/email | Контакти оновлюються | [ ] |
| 7.1.4 | Валюта | Вибрати валюту | UAH, USD, EUR | [ ] |
| 7.1.5 | Часовий пояс | Вибрати часовий пояс | Час відображається коректно | [ ] |

### 7.2 Доставка

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.2.1 | Способи доставки | Перевірити список | Нова пошта, Укрпошта, Самовивіз | [ ] |
| 7.2.2 | Додати спосіб | Створити новий | Спосіб додано | [ ] |
| 7.2.3 | Тарифи | Налаштувати тарифи | Ціни зберігаються | [ ] |
| 7.2.4 | Безкоштовна доставка | Встановити поріг | Від X грн безкоштовно | [ ] |

### 7.3 Оплата

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.3.1 | Способи оплати | Перевірити список | Картка, накладений, частинами | [ ] |
| 7.3.2 | Платіжний шлюз | Налаштувати LiqPay/Mono | Ключі зберігаються | [ ] |
| 7.3.3 | Тестовий режим | Увімкнути тест | Оплати в тестовому режимі | [ ] |

### 7.4 Сповіщення

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 7.4.1 | Email налаштування | Налаштувати SMTP | Тестовий email надсилається | [ ] |
| 7.4.2 | Шаблони email | Редагувати шаблон | Зміни зберігаються | [ ] |
| 7.4.3 | SMS | Налаштувати SMS-провайдера | Тестове SMS надсилається | [ ] |

---

## 8. Sidebar навігація

### 8.1 Пункти меню

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 8.1.1 | Дашборд | Натиснути | Перехід до `/admin` | [ ] |
| 8.1.2 | Замовлення | Натиснути | Перехід до `/admin/orders` | [ ] |
| 8.1.3 | Товари | Натиснути | Перехід до `/admin/products` | [ ] |
| 8.1.4 | Категорії | Натиснути | Перехід до `/admin/categories` | [ ] |
| 8.1.5 | Клієнти | Натиснути | Перехід до `/admin/customers` | [ ] |
| 8.1.6 | Склад | Натиснути | Перехід до `/admin/warehouse` | [ ] |
| 8.1.7 | Аналітика | Натиснути | Перехід до `/admin/analytics` | [ ] |
| 8.1.8 | Інтеграції | Натиснути | Перехід до `/admin/integrations` | [ ] |
| 8.1.9 | Налаштування | Натиснути | Перехід до `/admin/settings` | [ ] |

### 8.2 UI

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| 8.2.1 | Активний пункт | Перейти на сторінку | Пункт підсвічується | [ ] |
| 8.2.2 | Згорнути sidebar | Натиснути toggle | Sidebar згортається | [ ] |
| 8.2.3 | Розгорнути | Натиснути toggle | Sidebar розгортається | [ ] |
| 8.2.4 | Підменю | Натиснути пункт з підменю | Підменю відкривається | [ ] |
| 8.2.5 | Лічильники | Перевірити badges | Нові замовлення, помилки | [ ] |

---

## Негативне тестування

| # | Тест-кейс | Кроки | Очікуваний результат | Статус |
|---|-----------|-------|----------------------|--------|
| N1 | Дублікат SKU | Створити товар з існуючим SKU | Помилка валідації | [ ] |
| N2 | Від'ємна ціна | Ввести -100 в ціну | Помилка валідації | [ ] |
| N3 | Великий файл | Завантажити 50MB фото | Помилка: перевищено ліміт | [ ] |
| N4 | Невалідний email | Ввести "test" в email | Помилка валідації | [ ] |
| N5 | XSS в полях | Ввести `<script>` | Екранування | [ ] |
| N6 | Видалення категорії з товарами | Видалити непусту | Попередження | [ ] |
| N7 | Паралельне редагування | Два адміни одночасно | Конфлікт/блокування | [ ] |

---

## Чек-лист перед релізом

- [ ] Авторизація працює коректно
- [ ] CRUD товарів працює
- [ ] CRUD категорій працює
- [ ] Обробка замовлень працює
- [ ] Налаштування зберігаються
- [ ] Права доступу дотримуються
- [ ] Логування дій адміністратора
- [ ] Резервне копіювання даних

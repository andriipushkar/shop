# Відвантаження з магазину

## Огляд

Відвантаження з магазину (Ship-from-Store) - стратегія відвантаження замовлень з найближчої точки до клієнта.

### Переваги
- Швидша доставка
- Нижча вартість логістики
- Оптимальне використання запасів
- Покращення клієнтського досвіду

## Алгоритм вибору джерела

### Система оцінювання

```
score = (вагаВідстані × оцінкаВідстані) +
        (вагаВартості × оцінкаВартості) +
        (вагаНаявності × оцінкаНаявності) +
        (вагаЧасу × оцінкаЧасу)
```

### Ваги за замовчуванням

| Фактор | Вага | Опис |
|--------|------|------|
| Відстань | 0.3 | Відстань до клієнта |
| Вартість | 0.25 | Вартість відвантаження |
| Наявність | 0.25 | Наявність всіх товарів |
| Час | 0.2 | Час обробки + доставки |

## Типи джерел

| Тип | Характеристики |
|-----|----------------|
| warehouse (склад) | Великий запас, нижча вартість/км, довший час обробки |
| store (магазин) | Менший запас, вища вартість/км, швидка обробка |

### Коли обирати магазин
- Клієнт поруч з магазином
- Потрібна швидка доставка
- Склад далеко

### Коли обирати склад
- Великий заказ
- Немає терміновості
- Оптимізація вартості

## Обчислення відстані

Формула Haversine для географічної відстані:
```
R = 6371 км (радіус Землі)
distance = R × c
```

## UI компонент

Сторінка `/admin/warehouse/analytics/ship-from-store` надає:
- Статистика відвантажень
- Список джерел
- Деталі замовлення
- Альтернативні варіанти

# AI/ML Аналітика складу

## Огляд

Система AI/ML аналітики надає інтелектуальні інструменти для:
- Прогнозування попиту
- Виявлення аномалій
- Автоматичного розрахунку точок перезамовлення
- ABC-XYZ класифікації товарів

## Прогнозування попиту

### Алгоритм

Система використовує комбінацію методів:

1. **Ковзне середнє (Moving Average)**
   ```
   MA = Σ(sales[i]) / n
   ```

2. **Експоненційне згладжування**
   ```
   ES[t] = α × actual[t] + (1 - α) × ES[t-1]
   ```
   де α = 0.3

3. **Визначення тренду (лінійна регресія)**

4. **Сезонні індекси**

### UI компонент

Сторінка `/admin/warehouse/analytics/forecast` надає:
- Вибір товару для аналізу
- Налаштування горизонту прогнозу (7-90 днів)
- Візуалізацію прогнозу з інтервалом довіри 95%
- Сезонні індекси по місяцях

## Точки перезамовлення

### Формули

**Точка перезамовлення**:
```
ROP = Страховий запас + (Середні денні продажі × Час поставки)
```

**Страховий запас**:
```
SS = Z × σ × √(Час поставки)
```

### Статуси товарів

| Статус | Умова | Колір |
|--------|-------|-------|
| critical | запас < страховий запас | Червоний |
| reorder_now | запас < точка перезамовлення | Помаранчевий |
| ok | запас в нормі | Зелений |
| overstock | запас > 2× точка перезамовлення | Синій |

## Виявлення аномалій

### Методика

Система використовує **Z-score** для виявлення аномалій:
```
Z = (x - μ) / σ
```

### Типи аномалій

| Тип | Опис |
|-----|------|
| spike | Різке зростання |
| drop | Різке падіння |
| zero_sales | Нульові продажі |

## ABC-XYZ Класифікація

### ABC (за прибутковістю)

- **A**: Топ 20% товарів = 80% виручки
- **B**: Наступні 30% = 15% виручки
- **C**: Решта 50% = 5% виручки

### XYZ (за стабільністю попиту)

| Клас | CV | Опис |
|------|-----|------|
| X | < 10% | Стабільний попит |
| Y | 10-25% | Помірні коливання |
| Z | > 25% | Нестабільний попит |
